{"version":3,"file":"bundle.js","sources":["../src/Sketch/MouseState.ts","../src/Sketch/index.ts","../src/index.ts"],"sourcesContent":["class MouseState {\n  private pressed: boolean;\n\n  constructor(pressed: boolean) {\n    this.pressed = pressed;\n  }\n\n  isPressed() {\n    return this.pressed;\n  }\n\n  toggleState() {\n    this.pressed = !this.pressed;\n  }\n}\n\nexport default MouseState;\n","import MouseState from './MouseState';\n\nexport interface GridSize {\n  columns: number;\n  rows: number;\n}\n\nclass Sketch {\n  private rootContainer : HTMLElement;\n  private grid?: HTMLElement;\n\n  private mosueState: MouseState = new MouseState(false);\n\n  constructor(root: HTMLElement) {\n    this.mosueState = new MouseState(false);\n    this.rootContainer = root;\n    this.createLayout();\n  }\n\n  private createLayout() {\n    const sketch = document.createElement('div');\n    sketch.classList.add('sketch');\n    this.rootContainer.append(sketch);\n\n    const grid = this.grid = document.createElement('div');\n    grid.classList.add('sketch__grid', 'grid');\n    sketch.append(grid);\n\n    const mouseTogglingCallback = this.mosueState.toggleState.bind(this.mosueState)\n    grid.addEventListener('mouseup', mouseTogglingCallback);\n    grid.addEventListener('mousedown', mouseTogglingCallback);\n  }\n\n  private cellClickHandler(cell: HTMLElement) {\n    if (this.mosueState.isPressed()) {\n      cell.classList.add('grid__cell_colored');\n    }\n  }\n\n  public configureGrid({ rows, columns }: GridSize) {\n    if (!this.grid) {\n      throw Error(\"Grid is not configured\");\n    }\n\n    const createCellCallback = (cell: HTMLElement) => () => {\n      this.cellClickHandler(cell);\n    }\n\n    const createCell = () => {\n      const cell = document.createElement('div');\n      cell.classList.add('grid__cell');\n\n      const callback = createCellCallback(cell);\n      cell.addEventListener('mousedown', callback);\n      cell.addEventListener('mousemove', callback);\n\n      return cell;\n    }\n\n    const cells = [...Array(rows * columns).keys()].map(createCell);\n\n    this.grid.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;\n    this.grid.style.gridTemplateRows = `repeat(${rows}, 1fr)`;\n\n    this.grid.append(...cells);\n  }\n}\n\nexport default Sketch;\n","import Sketch from './Sketch';\n\nconst SKETCH_DEFAULT_GRID_ROWS: number = 16;\nconst SKETCH_DEFAULT_GRID_COLUMNS: number = 16;\n\nfunction initializeSketch() {\n  const root = document.getElementById(\"sketch-root\");\n  if (!root) {\n    throw Error(\"Cant find sketch root\");\n  }\n\n  const sketch = new Sketch(root);\n\n  sketch.configureGrid({\n    rows: SKETCH_DEFAULT_GRID_ROWS,\n    columns: SKETCH_DEFAULT_GRID_COLUMNS\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", initializeSketch);\n"],"names":[],"mappings":"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"}